# ============================================================================
# SUCCESS MAGAZINE - ENVIRONMENT VARIABLES TEMPLATE
# ============================================================================
# Copy this file to .env.local for local development
# Configure these variables in Vercel dashboard for production deployment
#
# IMPORTANT: Never commit .env.local or actual secrets to version control
#
# STEPS 1-3 QUICK START (Minimum Required):
# - DATABASE_URL (Vercel Postgres)
# - NEXTAUTH_SECRET (generate with: openssl rand -base64 32)
# - NEXTAUTH_URL (http://localhost:3000 locally, production URL in prod)
# - RESEND_API_KEY (for emails - get from resend.com)
# - NEXT_PUBLIC_GA_ID (for analytics - get from Google Analytics)
# - STRIPE_SECRET_KEY + NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY (for payments)
# ============================================================================

# ============================================================================
# DATABASE CONFIGURATION
# ============================================================================

# PostgreSQL database connection string
# Format: postgresql://USER:PASSWORD@HOST:PORT/DATABASE?schema=public
#
# Development: Use Vercel Postgres or local PostgreSQL
# Production: Use Vercel Postgres (automatically provisioned)
#
# Get from: https://vercel.com/dashboard -> Storage -> Postgres -> .env.local
DATABASE_URL="postgresql://username:password@host:5432/database?schema=public"

# Alternative format for pooled connections (recommended for serverless):
# DATABASE_URL="postgres://default:password@host-pooler.region.provider.com:5432/database?sslmode=require"

# ============================================================================
# AUTHENTICATION (NextAuth.js)
# ============================================================================

# NextAuth secret key - MUST be a strong random string in production
# Generate with: openssl rand -base64 32
# OR visit: https://generate-secret.vercel.app/32
NEXTAUTH_SECRET="your-super-secret-key-change-this-in-production-minimum-32-characters"

# Full URL where your application is deployed
# Development: http://localhost:3000
# Production: https://www.success.com
NEXTAUTH_URL="http://localhost:3000"

# ============================================================================
# WORDPRESS INTEGRATION
# ============================================================================

# WordPress REST API endpoint (server-side only)
# This is used for fetching content from the SUCCESS.com WordPress backend
WORDPRESS_API_URL="https://www.success.com/wp-json/wp/v2"

# WordPress REST API endpoint (client-side - must start with NEXT_PUBLIC_)
# Used for client-side API requests (same as above but accessible in browser)
NEXT_PUBLIC_WORDPRESS_API_URL="https://www.success.com/wp-json/wp/v2"

# WordPress authentication credentials (required for write operations)
# To enable post creation/editing from Next.js admin dashboard:
# 1. Log into WordPress admin at https://www.success.com/wp-admin
# 2. Go to Users → Profile → Application Passwords
# 3. Create new application password (e.g., "Next.js Admin Dashboard")
# 4. Copy the generated password (format: xxxx xxxx xxxx xxxx)
WORDPRESS_USERNAME="your-wordpress-username"
WORDPRESS_APP_PASSWORD="xxxx xxxx xxxx xxxx"

# Optional: WordPress API key (if using custom authentication)
WORDPRESS_API_KEY=""

# ============================================================================
# MEDIA CDN
# ============================================================================

# CDN URL for serving media files (images, videos, etc.)
# Options:
# - Cloudflare R2: https://pub-xxxxx.r2.dev
# - AWS S3: https://bucket-name.s3.region.amazonaws.com
# - CloudFront: https://xxxxx.cloudfront.net
# - WordPress media: https://www.success.com/wp-content/uploads
NEXT_PUBLIC_MEDIA_CDN_URL="https://media.success.com"

# ============================================================================
# PAYMENT PROCESSING (Stripe)
# ============================================================================

# Stripe secret key (server-side only - NEVER expose to client)
# Get from: https://dashboard.stripe.com/apikeys
# Development: Use test key (sk_test_...)
# Production: Use live key (sk_live_...)
STRIPE_SECRET_KEY="sk_test_xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx"

# Stripe publishable key (client-side - safe to expose)
# Get from: https://dashboard.stripe.com/apikeys
# Development: Use test key (pk_test_...)
# Production: Use live key (pk_live_...)
NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY="pk_test_xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx"

# Stripe webhook signing secret (for verifying webhook events)
# Get from: https://dashboard.stripe.com/webhooks
# Create webhook endpoint: https://your-domain.com/api/webhooks/stripe
# Listen for events: checkout.session.completed, customer.subscription.*
STRIPE_WEBHOOK_SECRET="whsec_xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx"

# Stripe product/price IDs (create these in Stripe dashboard)
# SUCCESS+ Monthly subscription price ID ($7.99/month)
STRIPE_PRICE_MONTHLY="price_xxxxxxxxxxxxxxxxxxxxx"

# SUCCESS+ Annual subscription price ID ($79.99/year)
STRIPE_PRICE_YEARLY="price_xxxxxxxxxxxxxxxxxxxxx"

# Magazine-only subscription price ID (optional)
STRIPE_PRICE_MAGAZINE="price_xxxxxxxxxxxxxxxxxxxxx"

# Base URL for Stripe redirects (REQUIRED)
# Development: http://localhost:3000
# Production: https://www.success.com
NEXT_PUBLIC_BASE_URL="http://localhost:3000"

# ============================================================================
# PAYMENT PROCESSING (PayKickstart)
# ============================================================================

# PayKickstart webhook secret (for verifying webhook signatures)
# Get from: PayKickstart Dashboard → Settings → Webhooks
# Configure webhook endpoint: https://your-domain.com/api/paykickstart/webhook
# Listen for events: subscription_created, subscription_updated, subscription_cancelled, payment_failed
PAYKICKSTART_WEBHOOK_SECRET="your-paykickstart-webhook-secret-key"

# PayKickstart API key (if using PayKickstart API for creating customers/subscriptions)
# Get from: PayKickstart Dashboard → Settings → API
PAYKICKSTART_API_KEY="your-paykickstart-api-key"

# PayKickstart vendor ID
# Get from: PayKickstart Dashboard → Settings
PAYKICKSTART_VENDOR_ID="your-vendor-id"

# ============================================================================
# COLLEGE WORKS (CW) INTEGRATION
# ============================================================================

# College Works webhook secret for verifying webhook events
# Used for magazine subscription fulfillment integration
CW_WEBHOOK_SECRET="your-college-works-webhook-secret"

# College Works API endpoint URL
# Used for sending subscription data to College Works fulfillment system
CW_WEBHOOK_URL="https://api.collegeworks.com/webhook/subscriptions"

# ============================================================================
# EMAIL SERVICE
# ============================================================================

# AWS SES (Simple Email Service) - RECOMMENDED FOR PRODUCTION
# Best for: High volume, lowest cost ($0.10 per 1,000 emails)
# Free tier: 3,000 emails/month when hosted on AWS (Amplify qualifies!)
# Setup guide: https://docs.aws.amazon.com/ses/
#
# IMPORTANT: Requires domain verification in AWS SES Console
# 1. Go to AWS Console → SES → Verified Identities
# 2. Add and verify success.com domain (add DNS records)
# 3. Request production access (takes 24-48 hours)
# 4. Set environment variables below
#
# Enable AWS SES (set to 'true' to use SES instead of Resend/SendGrid)
AWS_SES_ENABLED="false"

# AWS SES from email (must be verified in SES)
SES_FROM_EMAIL="hello@success.com"

# AWS credentials (reuse from S3/Amplify setup)
# AWS_ACCESS_KEY_ID="AKIAxxxxxxxxxxxxx"  # Already set in AWS section
# AWS_SECRET_ACCESS_KEY="xxxxxxxxxxxxx"  # Already set in AWS section
# AWS_REGION="us-east-1"                 # Already set in AWS section

# ---

# Option 2: Resend Email Service (Good for development/low volume)
# Best for: Quick setup, excellent developer experience
# Sign up: https://resend.com (free tier: 3,000 emails/month)
# 1. Create account
# 2. Verify domain: success.com
# 3. Get API key from: https://resend.com/api-keys
# 4. Format sender as: "Display Name <email@domain.com>"
RESEND_API_KEY="re_xxxxxxxxxxxxxxxxxxxxxxxxxxxxx"
RESEND_FROM_EMAIL="SUCCESS Magazine <noreply@success.com>"

# ---

# Option 3: SendGrid (Alternative email service)
# Best for: Established provider, good deliverability
# Sign up: https://sendgrid.com
# Get API key from: https://app.sendgrid.com/settings/api_keys
SENDGRID_API_KEY="SG.xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx"

# SendGrid verified sender email
SENDGRID_FROM_EMAIL="noreply@success.com"

# ---

# Admin notification email (where contact forms, etc. are sent)
ADMIN_EMAIL="admin@success.com"

# ============================================================================
# ANALYTICS & TRACKING
# ============================================================================

# Google Analytics 4 (GA4) Measurement ID (REQUIRED for Step 2)
# Get from: https://analytics.google.com → Admin → Data Streams
# Format: G-XXXXXXXXXX
# Leave empty to disable analytics tracking
NEXT_PUBLIC_GA_ID="G-XXXXXXXXXX"

# Google Tag Manager (Optional - alternative to GA4)
# Get from: https://tagmanager.google.com
# Format: GTM-XXXXXXX
NEXT_PUBLIC_GTM_ID="GTM-XXXXXXX"

# Facebook Pixel ID (Optional - for Facebook ads tracking)
# Get from: https://business.facebook.com/events_manager
NEXT_PUBLIC_FB_PIXEL_ID="XXXXXXXXXXXXXXX"

# Google Ad Manager Account ID (Optional - for ad serving)
# Get from: https://admanager.google.com
NEXT_PUBLIC_GAM_ACCOUNT_ID="XXXXXXXXX"

# ============================================================================
# ERROR MONITORING & LOGGING
# ============================================================================

# Sentry DSN for error tracking (Optional but recommended)
# Sign up: https://sentry.io
# Get DSN from: Project Settings → Client Keys (DSN)
NEXT_PUBLIC_SENTRY_DSN="https://xxxxx@xxxxx.ingest.sentry.io/xxxxx"

# Sentry auth token (for uploading source maps)
# Get from: https://sentry.io/settings/account/api/auth-tokens/
SENTRY_AUTH_TOKEN="sntrys_xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx"

# Sentry organization and project slugs
SENTRY_ORG="your-organization"
SENTRY_PROJECT="success-nextjs"

# ============================================================================
# APPLICATION CONFIGURATION
# ============================================================================

# Public site URL (used in emails, sitemaps, etc.)
# Development: http://localhost:3000
# Production: https://www.success.com
NEXT_PUBLIC_SITE_URL="http://localhost:3000"

# Public API URL (for internal API calls from client)
# Usually same as NEXT_PUBLIC_SITE_URL
NEXT_PUBLIC_API_URL="http://localhost:3000"

# Node environment
# Options: development | production | test
NODE_ENV="development"

# ============================================================================
# FEATURE FLAGS
# ============================================================================

# Enable/disable features for testing and gradual rollout
# Set to "true" or "false"

# Enable subscription functionality (Stripe integration)
ENABLE_SUBSCRIPTIONS="true"

# Enable video content section
ENABLE_VIDEOS="true"

# Enable podcast content section
ENABLE_PODCASTS="true"

# Enable e-commerce/store functionality
ENABLE_STORE="false"

# Enable maintenance mode (shows maintenance page to all users)
MAINTENANCE_MODE="false"

# Enable newsletter subscription forms
ENABLE_NEWSLETTER="true"

# Enable user comments on articles
ENABLE_COMMENTS="true"

# ============================================================================
# CRON & BACKGROUND JOBS
# ============================================================================

# Cron secret for securing automated tasks
# Generate with: openssl rand -hex 32
# Used in: /api/cron/* endpoints to prevent unauthorized access
CRON_SECRET="your-cron-secret-key-change-this-in-production"

# WordPress sync frequency (in minutes)
# How often to sync content from WordPress
SYNC_INTERVAL_MINUTES="60"

# ============================================================================
# THIRD-PARTY INTEGRATIONS
# ============================================================================

# Cloudflare R2 Storage (Optional - for media hosting)
# Get from: https://dash.cloudflare.com → R2
R2_ACCOUNT_ID="your-account-id"
R2_ACCESS_KEY_ID="xxxxxxxxxxxxxxxxxxxxx"
R2_SECRET_ACCESS_KEY="xxxxxxxxxxxxxxxxxxxxx"
R2_BUCKET_NAME="success-media"

# AWS S3 (Alternative to R2 for media hosting)
AWS_ACCESS_KEY_ID="AKIAxxxxxxxxxxxxx"
AWS_SECRET_ACCESS_KEY="xxxxxxxxxxxxxxxxxxxxx"
AWS_REGION="us-east-1"
AWS_S3_BUCKET="success-media"

# Algolia Search (Optional - for advanced search functionality)
# Sign up: https://www.algolia.com
NEXT_PUBLIC_ALGOLIA_APP_ID="xxxxxxxxxxxxx"
NEXT_PUBLIC_ALGOLIA_SEARCH_KEY="xxxxxxxxxxxxxxxxxxxxx"
ALGOLIA_ADMIN_KEY="xxxxxxxxxxxxxxxxxxxxx"
ALGOLIA_INDEX_NAME="success_articles"

# ============================================================================
# DEVELOPMENT & DEBUGGING
# ============================================================================

# Enable verbose logging in development
DEBUG="false"

# Skip build-time static generation (faster dev builds)
SKIP_BUILD_STATIC_GENERATION="false"

# Disable telemetry (Next.js anonymous usage data)
NEXT_TELEMETRY_DISABLED="1"

# ============================================================================
# SMTP (Alternative to Resend/SendGrid)
# ============================================================================

# Generic SMTP configuration (if not using Resend or SendGrid)
SMTP_HOST="smtp.gmail.com"
SMTP_PORT="587"
SMTP_SECURE="false"
SMTP_USER="your-email@gmail.com"
SMTP_PASSWORD="your-app-password"
SMTP_FROM="noreply@success.com"

# ============================================================================
# VERCEL-SPECIFIC (Auto-populated in Vercel deployment)
# ============================================================================

# These are automatically set by Vercel - DO NOT manually configure
# VERCEL="1"
# VERCEL_ENV="production"
# VERCEL_URL="success-nextjs.vercel.app"
# VERCEL_GIT_COMMIT_SHA="abc123..."
# VERCEL_GIT_COMMIT_MESSAGE="Update homepage"

# ============================================================================
# QUICK START GUIDE
# ============================================================================
#
# ═══ STEP 1: AUTH & REGISTRATION (Required) ═══
# 1. DATABASE_URL - Get from Vercel Postgres or local PostgreSQL
# 2. NEXTAUTH_SECRET - Generate with: openssl rand -base64 32
# 3. NEXTAUTH_URL - Set to http://localhost:3000 (dev) or production URL
#
# ═══ STEP 2: ANALYTICS & EMAIL (Required for notifications) ═══
# 4. NEXT_PUBLIC_GA_ID - Get from Google Analytics 4 (format: G-XXXXXXXXXX)
# 5. RESEND_API_KEY - Get from resend.com (free tier: 100 emails/day)
# 6. RESEND_FROM_EMAIL - Verified sender email (e.g., noreply@success.com)
#
# ═══ STEP 3: STRIPE PAYMENTS (Required for subscriptions) ═══
# 7. STRIPE_SECRET_KEY - Get from dashboard.stripe.com/apikeys (sk_test_... for dev)
# 8. NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY - Public key (pk_test_... for dev)
# 9. STRIPE_WEBHOOK_SECRET - From dashboard.stripe.com/webhooks (whsec_...)
# 10. STRIPE_PRICE_INSIDER_MONTHLY - Price ID from Stripe product setup
# 11. STRIPE_PRICE_INSIDER_ANNUAL - Price ID from Stripe product setup
# 12. STRIPE_PRICE_COLLECTIVE_MONTHLY - Price ID from Stripe product setup
# 13. STRIPE_PRICE_COLLECTIVE_ANNUAL - Price ID from Stripe product setup
#
# ═══ OPTIONAL (WordPress integration) ═══
# - WORDPRESS_API_URL - https://www.success.com/wp-json/wp/v2
# - NEXT_PUBLIC_WORDPRESS_API_URL - Same as above
# - WORDPRESS_USERNAME - For write operations (if needed)
# - WORDPRESS_APP_PASSWORD - Application password from WP admin
#
# ═══ PRODUCTION DEPLOYMENT CHECKLIST ═══
# ✓ Generate new NEXTAUTH_SECRET (don't reuse dev secret!)
# ✓ Update NEXTAUTH_URL to production domain (https://success.com)
# ✓ Use Stripe LIVE keys (sk_live_... and pk_live_...)
# ✓ Use Stripe LIVE webhook secret
# ✓ Update RESEND_FROM_EMAIL to production domain
# ✓ Set up Google Analytics with production property
# ✓ Set CRON_SECRET for securing background jobs
# ✓ Update all NEXT_PUBLIC_SITE_URL references to production
#
# ============================================================================
